{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/pics.js","src/resources/data/users.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","showOK","showError","login","email","password","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","firstName","lastName","registerError","save","serverResponse","Wall","pics","parse","getItem","modalTitle","gallerySelected","selected","filesToUpload","fileDescription","filename","selectGallery","pic","logout","removeItem","selectAction","id","event","index","indexOf","splice","push","$","target","hasClass","toggleClass","parent","createImages","picObj","modal","alert","editImage","image","description","deleteImages","i","l","length","reponse","_id","location","reload","saveImages","uploadFile","createPic","userID","editPic","deleteGallery","deletePic","changeFiles","Array","files","removeFile","savePic","close","picId","activate","getUserPics","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","Pics","PIC_SERVICE","picsArray","updateArray","userId","formData","FormData","append","forEach","item","images","Users","USER_SERVICE"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\nexport class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep);\n    config.map([\n      { \n        route: ['', 'home'],\n        moduleId: './modules/home',\n        name: 'Home' \n      },\n      {\n        route: 'list',\n        moduleId: './modules/list',\n        name: 'List' ,\n        auth: true \n     }\n    ]);\n  }\n}\n","var authConfig = {\n   baseUrl: \"/\",\n   loginUrl: 'users/login',\n   tokenName: 'token',\n   authHeader: 'Authorization',\n   authToken: '',\n   logoutRedirect: '#/home'\n}\n \nexport default authConfig;","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport regeneratorRuntime from 'regenerator-runtime';\nimport config from './auth-config';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig) => {\n      baseConfig.configure(config);\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {Users} from '../resources/data/users';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(Router, Users, AuthService)\nexport class Home {\n  constructor(router, users, auth) {\n    this.router = router;\n    this.auth = auth;\n    this.loginError = '';    \n    this.users = users;\n    this.message = 'Home';\n    this.showLogin = true;\n\t\tthis.showOK  = false;\n\t\tthis.showError  = false;\n  }\n\n\n\tlogin() {\n    \treturn this.auth.login(this.email, this.password)\n\t\t.then(response => {\n\t\t\t\tsessionStorage.setItem(\"user\", JSON.stringify(response.user));\n\t\t\t\tthis.loginError = \"\";\n\t\t\t\tthis.router.navigate('list');\n\t\t})\n\t\t.catch(error => {\n        \tconsole.log(error);\n\t\t\tthis.loginError = \"Username and or password is incorrect. Try again.\";\n\t\t});\n\t};\n\n\tshowRegister(){\n\t\tthis.user = {\n\t\t\tfirstName: \"\",\n\t\t\tlastName: \"\",\n\t\t\temail: \"\",\n\t\t\tpassword: \"\"\n\t\t}\n\t\tthis.registerError = \"\";\n\t\tthis.showLogin = false;\n\t}\n\n\tasync save(){\n\t\tlet serverResponse = await this.users.save(this.user);\n\t\tif (!serverResponse.error) {\n\t\t\tthis.showOK = true;\n\t\t\tthis.user = {\n\t\t\t\tfirstName: \"\",\n\t\t\t\tlastName: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\tpassword: \"\"\n\t\t\t}\n\t\t} else {\n\t\t\tthis.showError = true;\n\t\t}\n\t}\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {Pics} from '../resources/data/pics';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(Pics, AuthService, Router)\nexport class Wall {\n  constructor(pics, auth,router) {\n    this.pics = pics;\n  \tthis.router = router;\n    this.auth = auth;\n    this.user = JSON.parse(sessionStorage.getItem('user'));\n    this.message = this.user.firstName+\"'s Pics\";\n    this.modalTitle = '';\n    this.gallerySelected = false;\n    this.selected = [];\n    this.filesToUpload = [];\n    this.fileDescription = '';\n    this.filename = '';\n  }\n\n  selectGallery(pic){\n    this.gallerySelected = pic;\n    this.selected = [];\n  }\n\n  logout(){\n    sessionStorage.removeItem('user');\n    this.auth.logout();\n  }\n\n  selectAction(id,event){\n    var index = this.selected.indexOf(id);\n    if (index >= 0) {\n      this.selected.splice(index,1);\n    } else {\n      this.selected.push(id);\n    }\n\n    if($(event.target).hasClass('pic-container')){\n      $(event.target).toggleClass('active');\n    } else {\n      $(event.target).parent().toggleClass('active');\n    }\n  }\n\n  createImages(){\n\n    if (this.gallerySelected) {\n      this.picObj = this.gallerySelected\n      this.modalTitle = 'Add Image';\n      this.fileDescription = '';\n      $('#addPicture').modal();\n    } else{\n      alert('Select a gallery');\n    }\n  }\n\n  editImage(image){\n    this.fileDescription = image.description;\n    this.filename = image.filename;\n    this.modalTitle = 'Edit Image';\n    $('#addPicture').modal();\n  }\n\n  deleteImages(){\n    for(var i = 0, l = this.selected.length; i < l; i ++) {\n      var reponse = this.pics.deleteImages(this.selected,this.gallerySelected._id);\n    }\n\n    this.selected = [];\n    window.location.reload()\n  }\n\n  async saveImages(){\n    if(this.filesToUpload && (this.filesToUpload.length || this.filename != '')){\n      await this.pics.uploadFile(this.filesToUpload, this.fileDescription, this.filename, this.user._id, this.gallerySelected._id);\n      this.filesToUpload = [];\n    }\n    $('#addPicture').modal('toggle');\n    window.location.reload()\n  }\n\n\n  createPic(){\t\n    this.picObj = {\n      name: \"\",\n      userID: this.user._id,\n    }\n    this.modalTitle = 'New Pic';\n    $('#mainModal').modal();\n    this.filename = '';\n  }\n\n\n  editPic(pic){  \n    this.picObj = pic;\n    this.modalTitle = 'Edit Gallery';\n    $('#mainModal').modal();\n  }\n\n  deleteGallery(pic){\n    this.pics.deletePic(pic._id);\n    this.gallerySelected = false;\n  }\n\n  changeFiles(){\n    this.filesToUpload = new Array(); \n    this.filesToUpload.push(this.files[0]);\n  }\n   removeFile(index){\n    this.filesToUpload.splice(index,1);\n  }\n\n  async savePic(close){\n    if(this.picObj){   \n      let response = await this.pics.save(this.picObj);\n      if(response.error){\n        alert(\"There was an error creating the Pic\");\n      } else {\n        var picId = response._id;\n      }\n      if (close) {\n        $('#mainModal').modal('toggle');\n      }\n    }\n  }\n\n  async activate(){\n    await  this.pics.getUserPics(this.user._id);\n  }\n\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n","import { inject } from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\n\n@inject(HttpClient)\nexport class DataServices {\n  constructor(http) {\n    this.httpClient = http;\n    this.BASE_URL = \"/api/\";\n\n    this.httpClient.configure(config => {\n      config\n      .withBaseUrl(this.BASE_URL)\n      .withDefaults({\n        credentials: 'same-origin',\n        headers: {\n          'Accept': 'application/json',\n          'X-Requested-With': 'Fetch'\n        }\n      })\n      .withInterceptor({\n      request(request) {\n        console.log(`Requesting ${request.method} ${request.url}`);\n        return request;\n      },\n      response(response) {\n        console.log(`Received ${response.status} ${response.url}`);\n        return response;\n      }\n      });\n    });\n  }\n\n  get(url) {\n    return this.httpClient.fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        return data;\n      })\n      .catch(error => {\n        return error;\n      });\n  }\n\n  post(content, url) {\n    return this.httpClient\n      .fetch(url, {\n        method: 'post',\n        body: json(content)\n      })\n      .then(response => response.json())\n      .then(object => {\n        return object;\n      })\n      .catch(error => {\n        return error;\n      });\n  }\n\n  put(content, url) {\n    return this.httpClient\n      .fetch(url, {\n        method: 'put',\n        body: json(content)\n      })\n      .then(response => response.json())\n      .then(object => {\n        return object;\n      })\n      .catch(error => {\n        return error;\n      });\n  }\n\n  delete(url) {\n    return this.httpClient\n      .fetch(url, {\n        method: 'delete'\n      })\n      .then(response => response.json())\n      .then(object => {\n        return object;\n      })\n      .catch(error => {\n        return error ;\n      });\n  }\n\n  uploadFiles(files, url){\n  return this.httpClient\n    .fetch(url, {\n      method: 'post',\n      body: files\n    })\n    .then(response => response.json())\n    .then(object => {\n      return object;\n    })\n    .catch(error => {\n      return error;\n    });\n  }\n\n}\n\n\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n @inject(DataServices)\nexport class Pics {\n  constructor(data) {\n    this.data = data;\n    this.PIC_SERVICE = 'pics';\n    this.picsArray = [];\n  }\n\n\n  updateArray(pic){\n  }\n\n\n  async save(pic){\n    if(!pic._id){\n      let response = await this.data.post(pic, this.PIC_SERVICE);\n\n      if(!response.error){\n        this.picsArray.push(response);\n      }\n      return response;\n     } else {\n      let response = await this.data.put(pic, this.PIC_SERVICE + \"/\" + pic._id);\n\n      if(!response.error){\n        this.updateArray(response);\n      }\n      return response;      \n    }         \n  }\n\n  async getUserPics(id){\n    let response = await this.data.get(this.PIC_SERVICE + \"/user/\" + id);\n    if(!response.error && !response.message){\n      this.picsArray = response;\n    }\n  }\n\n  async uploadFile(files,description,filename, userId, picId){\n    let formData = new FormData();\n    formData.append('filename',filename);\n    formData.append('description',description);\n     files.forEach((item, index) => {\n      formData.append(\"file\" + index, item);\n    });\n    let response = await this.data.uploadFiles(formData, this.PIC_SERVICE +   \"/upload/\" + userId + \"/\" + picId);\n    if(!response.error){\n      this.updateArray(response);\n    }\n    return response;\n  }\n\n  async deleteImages(images,id){\n    let response = await this.data.post({'images':images},this.PIC_SERVICE + \"/\" + id+\"/images\");\n    this.updateArray(response);\n    return response;\n  }\n\n  async deletePic(id){\n    let response = await this.data.delete(this.PIC_SERVICE + \"/\" + id);\n      if(!response.error){\n        for(let i = 0; i < this.picsArray.length; i++){\n        if(this.picsArray[i]._id === id){\n          this.picsArray.splice(i,1);\n        }\n      }\n    }\n  }\n\n\n\n}\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n @inject(DataServices)\nexport class Users {\n  constructor(data) {\n    this.data = data;\n    this.USER_SERVICE = 'users';\n  } \n\n  async save(user){\n    if(user){\n      let serverResponse = await this.data.post(user, this.USER_SERVICE);\n      return serverResponse;\n    }\n  }\n\n}\n"],"sourceRoot":".."}